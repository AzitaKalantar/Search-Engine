{% load static %}
<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Satisfy:300,400,500,700&display=swap">
  <!-- Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design for Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.16/css/mdb.min.css" rel="stylesheet">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />

  <title>Search Engine</title>
  <style>
    .input-group.lg-form.form-md.form-2 input {
      border: 2px solid #FF8800;
      border-top-left-radius: 0.25rem;
      border-bottom-left-radius: 0.25rem;
    }

  </style>
</head>

<body>


  <header>
    <div class="container">

      <div class="row mt-4 ">
        <div class="d-flex flex-row" style="height: 100%;width: 70%;padding-left: 30px">
          <div class=" h-100 v-center">
            <div class="text-center" style="height:100px;width: 100px;">
              <embed class="text-center" src="{% static "world-wide-web2.svg" %}" alt="My image" type="image/svg+xml"
                style="height:80px;width: 80px;">
            </div>
          </div>

          <div class=" mt-4 h-100 v-center pl-3" style="height: 100%;width: 80%;">
            <form class="input-group lg-form form-md form-2" method="GET" action="{% url 'search_results' %}">
              <input class="form-control form-control" value="{{searched}}" type="text" placeholder="Search"
                aria-label="Search" name="q">
              <div class="input-group-append">
                <span class="input-group-text peach-gradient lighten-3" id="basic-text1"><i
                    class="fas fa-search text-grey" aria-hidden="true"></i></span>
                  </div>
            </form>
          </div>

        </div>

      </div>

    </div>



  </header>


  <main>
    <div class="container">
      <div class="row mt-3 ">
        <div class="col-9">
          <div class="list-group">
            {% for site in sites %}
            <a class="list-group-item list-group-item-action flex-column align-items-start" href="{{site.url}}"
              style="min-height: 150px;">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-2 h5">{{site.title}} class : {{site.class_field}}</h5>

              </div>
              <p class="mb-2">{{site.first_par}}</p>
              <small style="position: absolute; bottom: 7px;">{{site.url}}</small>
            </a>
            {% endfor %}
          </div>

        </div>
        <div class="col-3">
          <div class="form-row d-flex justify-content-center ml-5">
<form  method="POST" action="{% url 'search_results' %}" class="text-center" >
  {% csrf_token %}
  <div class="form-group">
<select class="selectpicker" data-width="auto" title="No Class" multiple name="option" >
{% for class in all_classes %}
  {% if class.num in class_search %}
     <option selected="selected"   >{{class.name}}</option>
  {% else %}
     <option  >{{class.name}}</option>
  {% endif %}

{% endfor %}



</select>
</div>

<!-- <div class="input-group mb-3">
  <div class="input-group-prepend">
    <div class="input-group-text">
      <span class="input-group-addon mr-3">Text</span>
      <input type="checkbox" aria-label="Checkbox for following text input">
    </div>
  </div>
  <div class="def-number-input number-input safari_only">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="minus"></button>
  <input class="quantity" min="1" max="5" value="1" type="number">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"></button>
</div>
</div>
<div class="input-group mb-3">
  <div class="input-group-prepend">
    <div class="input-group-text">
      <span class="input-group-addon mr-3">Text</span>
      <input type="checkbox" aria-label="Checkbox for following text input">
    </div>
  </div>
  <div class="def-number-input number-input safari_only">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="minus"></button>
  <input class="quantity" min="1" value="1" type="number">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"></button>
</div>
</div>
<div class="input-group mb-3">
  <div class="input-group-prepend">
    <div class="input-group-text">
      <span class="input-group-addon mr-3">Text</span>
      <input type="checkbox" aria-label="Checkbox for following text input">
    </div>
  </div>
  <div class="def-number-input number-input safari_only">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="minus"></button>
  <input class="quantity" min="1" value="1" type="number">
  <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"></button>
</div>
</div> -->


<button type="submit" class="btn peach-gradient" >Submit</button>
<input type="hidden" value="{{ searched }}" name="q">
</form>

          
        </div>
      </div>
    </div>
    </div>



  </main>




  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <!--
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  -->
  <footer>
    <div class="container">

      <div class="row ml-4 my-4">

        <nav aria-label="Page navigation">
          <ul class="pagination pg-amber">
            {% if sites.has_previous %}

            <li class="page-item"><a class="page-link" href="?{{base_url}}&page=1">First</a></li>
            <li class="page-item">
              <a class="page-link" aria-label="Previous" href="?{{base_url}}&page={{ sites.previous_page_number }}">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>

            {% else %}

            <li class="page-item disabled"><a class="page-link">First</a></li>
            <li class="page-item disabled">
              <a class="page-link" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>

            {% endif %}

            {% for num in sites.paginator.page_range %}

            {% if sites.number == num %}
            <li class="page-item active"><a class="page-link">{{ num }}</a></li>
            {% elif num > sites.number|add:'-3' and num < sites.number|add:'7' %}
            <li class="page-item"><a class="page-link" href="?{{base_url}}&page={{ num }}">{{ num }}</a></li>
            {% endif %}
            {% endfor %}

            {% if sites.has_next %}

            <li class="page-item">
              <a class="page-link" aria-label="Next" href="?{{base_url}}&page={{ sites.next_page_number }}">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
            <li class="page-item"><a class="page-link"
                href="?{{base_url}}&page={{ sites.paginator.num_pages }}">Last</a></li>

            {% else %}

            <li class="page-item disabled">
              <a class="page-link" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
            <li class="page-item disabled"><a class="page-link">Last</a></li>

            {% endif %}
          </ul>
        </nav>


      </div>


    </div>



  </footer>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <!-- Popper.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>

  <!-- Bootstrap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <!-- Material Design for Bootstrap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.16/js/mdb.min.js"></script>

    <!-- jQuery -->



<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>




</body>

<script type="text/javascript">// <![CDATA[
// $(function(){
//   $(".sites").each(function(i){
//     len=$(this).text().length;
//     if(len>180)
//     {
//       $(this).text($(this).text().substr(0,180)+'...');
//     }
//   });
// });
// // ]]>
// Material Select Initialization
$(document).ready(function() {
$('select').selectpicker();
});


// $( "#settings" ).click(function() {

//     a = $("option:selected").map(function(){
//       switch(this.value) {
//         case "Artificial Intelligence":  
//           return 0 
//         case "Graphical visualization":   
    
//         return 1
//         case "Software Engineering":
          
//           return 2
//         case "Architecture And OS":
          
          
//         return 3
//         case "Network":
          
//           return 4
//         case "Database":
          
         
//         return 5
//        case "Data Structure And Algorithm":
          
//         return 6  
          
//       }
      
//    }).get().join(", ");
  
//   console.log(a)
//       obj={}
//       obj["csrfmiddlewaretoken"]= $('input[name=csrfmiddlewaretoken]').val()
//       obj["action"]="post"
//       obj["selected_classes"]=a
//       obj["q"]="database"
//     $.ajax({
//       type:'POST',
//       url:'/search/',
//       data:obj,
//       success:function(json){
      
//         },
//       error : function(xhr,errmsg,err) {
//       $('#results').html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+errmsg+
//           " <a href='#' class='close'>&times;</a></div>"); // add the error to the dom
//             console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
//             }
//             });
  
// });

// $(document).on('submit','#setting',function(e){
//    e.preventDefault();
//    a = $("option:selected").map(function(){
//       switch(this.value) {
//         case "Artificial Intelligence":  
//           return 0 
//         case "Graphical visualization":   
    
//         return 1
//         case "Software Engineering":
          
//           return 2
//         case "Architecture And OS":
          
          
//         return 3
//         case "Network":
          
//           return 4
//         case "Database":
          
         
//         return 5
//        case "Data Structure And Algorithm":
          
//         return 6  
          
//       }
      
//    }).get().join(", ");
  
//   console.log(a)
//       obj={}
//       obj["csrfmiddlewaretoken"]= $('input[name=csrfmiddlewaretoken]').val()
//       obj["action"]="post"
//       obj["selected_classes"]=a
//       obj["q"]="database"
//     $.ajax({
//       type:'GET',
//       url:'/search/',
//       data:obj,
//       success:function(json){
      
//         },
//       error : function(xhr,errmsg,err) {
//       $('#results').html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+errmsg+
//           " <a href='#' class='close'>&times;</a></div>"); // add the error to the dom
//             console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
//             }
//             });
// });

</script>

</html>